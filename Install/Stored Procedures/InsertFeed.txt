CREATE DEFINER=`root`@`localhost` PROCEDURE `InsertFeed`(IN _CATEGORY_ID int, IN _FEED_URL varchar(2048), IN _FEED_NAME varchar(32), IN _FEED_DESCRIPTION  varchar(256))
    COMMENT 'Author: Cesar Quinteros\nCreated: 2013-09-04\nDescription: Inserts processed post data.'
INSERT INTO `SIFTMODE`.`FEEDS` 
(
`CATEGORY_ID`, 
`FEED_URL`, 
`NAME`, 
`DESCRIPTION`, 
`CREATED_ON`
) 
SELECT * FROM 
(
SELECT _CATEGORY_ID,_FEED_URL,_FEED_NAME,_FEED_DESCRIPTION, UTC_TIMESTAMP()
) AS tmp 
WHERE NOT EXISTS 
(
SELECT * FROM `SIFTMODE`.`FEEDS` WHERE `CATEGORY_ID` = _CATEGORY_ID AND (`FEED_URL` = _FEED_URL OR `NAME` = _FEED_NAME)
) LIMIT 1