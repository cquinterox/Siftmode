CREATE DEFINER=`root`@`localhost` PROCEDURE `InsertPost`(IN _FEED_ID integer, IN _POST_LINK text, IN _POST_PUBDATE timestamp, IN _POST_TITLE text, IN _POST_TITLE_WORDS text, IN _POST_DESCRIPTION text, IN _POST_DESCRIPTION_WORDS text, IN _POST_ARTICLE text, IN _POST_TITLE_DESCRIPTION_WORDS text)
    COMMENT 'Author: Cesar Quinteros\nCreated: 2013-09-04\nDescription: Inserts processed post data.'
INSERT INTO `SIFTMODE`.`POSTS` 
(
`FEED_ID`, 
`LINK`, 
`PUBDATE`, 
`TITLE`, 
`TITLE_WORDS`, 
`DESCRIPTION`, 
`DESCRIPTION_WORDS`, 
`ARTICLE`, 
`TITLE_DESCRIPTION_WORDS`, 
`CREATED_ON`
) 
SELECT * FROM 
(
SELECT 
_FEED_ID AS `FEED_ID`, 
_POST_LINK AS `LINK`, 
_POST_PUBDATE AS `PUBDATE`, 
_POST_TITLE AS `TITLE`, 
_POST_TITLE_WORDS AS `TITLE_WORDS`, 
_POST_DESCRIPTION AS `DESCRIPTION`, 
_POST_DESCRIPTION_WORDS AS `DESCRIPTION_WORDS`, 
_POST_ARTICLE AS `ARTICLE`, 
_POST_TITLE_DESCRIPTION_WORDS AS `TITLE_DESCRIPTION_WORDS`, 
UTC_TIMESTAMP() AS `CREATED_ON`
) AS tmp 
WHERE NOT EXISTS (SELECT * FROM `SIFTMODE`.`POSTS` WHERE `FEED_ID`= _FEED_ID AND `PUBDATE` = _POST_PUBDATE) LIMIT 1